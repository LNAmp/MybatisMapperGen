<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="cn.david.dao.IUserDao"><resultMap type="TUser" id="tuserMap"><id column="tuser_user_id" property="id" jdbcType="INTEGER"/><result column="tuser_user_name" property="userName" jdbcType="VARCHAR"/><result column="tuser_enc_pwd" property="password" jdbcType="VARCHAR"/></resultMap><sql id="tuser_columns">tuser.user_id tuser_user_id,tuser.user_name tuser_user_name,tuser.enc_pwd tuser_enc_pwd</sql><sql id="condition_where_sql"><if test="TUser != null "><where><if test="TUser.id != null ">user_id=#{TUser.id}</if><if test="TUser.userName != null "> and user_name=#{TUser.userName}</if><if test="TUser.password != null "> and enc_pwd=#{TUser.password}</if></where></if></sql><insert id="save" parameterType="TUser" useGeneratedKeys="true" keyProperty="user_id">insert into user  <trim prefix="(" suffix=")" suffixOverrides=","><if test="id != null ">user_id,</if><if test="userName != null ">user_name,</if><if test="password != null ">enc_pwd,</if></trim><trim prefix="values (" suffix=")" suffixOverrides=","><if test="id != null ">#{id,jdbcType=INTEGER},</if><if test="userName != null ">#{userName,jdbcType=VARCHAR},</if><if test="password != null ">#{password,jdbcType=VARCHAR},</if></trim></insert><select id="getAll" parameterType="map" resultMap="tuserMap" resultType="List">select <include refid="tuser_columns"/> from user tuser<include refid="condition_where_sql"/></select><select id="getOneById" parameterType="INTEGER" resultMap="tuserMap">select<include refid="tuser_columns"/> from user tuser where user_id={user_id}</select><delete id="deleteById" parameterType="INTEGER">delete from user tuser where user_id={user_id}</delete><update id="update" parameterType="TUser">update user tuser<set><if test="userName != null ">user_name=#{userName}</if><if test="password != null ">enc_pwd=#{password}</if></set> where user_id={user_id}</update></mapper>